## table join

一樣的 column(s) 做索引, 合併表格. 需指定合併用的索引欄 ( 或者, 自動找? ). 比方說:

    年份 科目 成績          年份 科目 興趣
     104 文學   90           104 文學    5
     104 自然   80           104 自然    2
     105 文學   70           105 文學    4
     105 自然   60           105 自然    3

合成為:

    年份 科目 成績 興趣
     104 文學   90    5
     104 自然   80    2
     105 文學   70    4
     105 自然   60    3

逆轉: C 類欄位全留下, 剩下的只選一個.


## row -> column 轉置

將特定 row 展開至 column. 一次展開一個 column, 需指定. 例如:


    年份 科目 成績 興趣
     104 文學   90    5
     104 自然   80    2
     105 文學   70    4
     105 自然   60    3

拆分成:

    科目(104) 成績(104) 興趣(104)      科目(105) 成績(105) 興趣(105)
         文學        90         5           文學        70         4
         自然        80         4           自然        60         3

依可合併 column 重新合併:

    科目 成績(104) 興趣(104) 成績(105) 興趣(105)
    文學        90         5        70         4
    自然        80         4        60         3

若原本欄位不相干, 可分成獨立 table

    表格 - 成績
    科目 104 105
    文學  90  70
    自然  80  60

    表格 - 興趣
    科目 104 105
    文學   5   4
    自然   4   3


## column -> row 轉置


原本獨立的表格, 但其實共享相同分類方式時, 可以做合併:

    表格 - 成績
    科目 104 105
    文學  90  70
    自然  80  60

    表格 - 興趣
    科目 104 105
    文學   5   4
    自然   4   3

變成:

    科目 成績(104) 興趣(104) 成績(105) 興趣(105)
    文學        90         5        70         4
    自然        80         4        60         3

可將同類標籤 column 名中轉入單一欄位:

    表格 - 成績
    科目 104 105
    文學  90  70
    自然  80  60

變成

    科目 年度 成績       科目 年度 成績
    文學  104   90       文學  105   70
    自然  104   80       自然  105   60

再合併:

    科目 年度 成績
    文學  104   90
    自然  104   80
    文學  105   70
    自然  105   60


## 可以做的操作

給定任何一個資料表. 我們為了做資料呈現, 可以做的操作:

 - filter ( 只留特定 row ), 可以同時對很多 col 做.
 - aggregate ( 根據規則合併 row ). 一次只能對一個 col 做, 而且其他 col 要指定合併方式. 
   - 算數量的怎麼辦?
 - unpivot - 選定一組 col, 並指定要留下展開的 col
   - 可能會有多組可以 unpivot, 但要有辦法取得命名規則才能順立展開.
 - pivot - 選定單一 col ( 需要是 C type ), 再選定另外幾個 col 做 join 依據. 
 - join ( 跟別的表合併 )

