<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/dist/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@plotdb/sheet/dev/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/loading.css/main/loading.min.css"><style type="text/css">.cell.fixed{display:flex;align-items:center;justify-content:center}</style></head><body><div class="w-1024 rwd mx-auto my-4"><div class="aspect-ratio ratio-3by2"><div class="root border shadow-sm rounded"></div></div></div><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/sheet/dev/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/datum/dev/index.min.js" defer></script><script type="module">var ds,s,ds2,ret,dimension,bind,binding,ds3;ds=datum.asDb([["year","category","attribute","value"],[2e3,"Online","revenue",90],[2e3,"Offline","revenue",100],[2e3,"Online","cost",80],[2e3,"Offline","cost",70],[2001,"Online","revenue",100],[2001,"Offline","revenue",115],[2001,"Online","cost",85],[2001,"Offline","cost",76],[2002,"Online","revenue",105],[2002,"Offline","revenue",122],[2002,"Online","cost",86],[2002,"Offline","cost",72],[2003,"Online","revenue",135],[2003,"Offline","revenue",115],[2003,"Online","cost",90],[2003,"Offline","cost",65]]);s=new sheet({root:ld$.find(".root",0),data:datum.asSheet(ds),frozen:{row:1},fixed:{row:1}});ds2=datum.pivot({data:ds,col:"category",joinCols:["year","attribute"]});console.log(ds2);ret=datum.type.get(ds);console.log(ret);ret.map(function(e,t){var n,o;n=ds.head.indexOf(e.key);o=s.cell({x:n+1,y:1});return o.textContent=e.type});dimension={x:{type:"O",priority:1},y:{type:"R",priority:2},cat:{type:"C",priority:3}};bind=datum.type.bind(ds2,dimension);console.log(bind);s.data(datum.asSheet(ds2));binding={x:{type:"O",key:"order",offset:1980,repeat:3},c:{type:"C",key:"category",count:3,random:false},n:{type:"N",key:"name"},y:[0,1,2,3].map(function(e){return{type:"R",key:"sensor-"+e,range:[50,100]}})};ret=datum.sample.generate({count:100,binding:binding});ds3=datum.asDb(ret.raw);console.log(ret);s.data(datum.asSheet(ds3));ret=datum.type.get(ds3);console.log(ret);ret.map(function(e,t){var n,o;n=ds3.head.indexOf(e.key);o=s.cell({x:n+1,y:1});return o.textContent=e.type});</script></body></html>